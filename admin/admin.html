<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Administración - WHIP-HELMETS</title>
    <link rel="stylesheet" href="css/admin.css">
</head>
<body>
    <header>
        <script>
    // Verificar autenticación antes de cargar el panel
    if (localStorage.getItem('adminAuthenticated') !== 'true') {
        window.location.href = 'login.html';
    }
</script>
        <div class="logo">
            <h1>WHIP-HELMETS - Panel de Administración</h1>
        </div>
        <div class="admin-actions">
            <button class="btn btn-success" id="add-product">Agregar Producto</button>
            <button class="btn btn-primary" id="save-all">Guardar Todos los Cambios</button>
            <button class="btn btn-secondary" id="export-data">Exportar Datos</button>
            <button class="btn btn-danger" id="logout">Cerrar Sesión</button>
        </div>
    </header>

    <div class="admin-container">
        <div class="filters">
            <div class="filter-row">
                <div class="filter-group">
                    <label for="search">Buscar Producto</label>
                    <input type="text" id="search" placeholder="Nombre, marca, modelo...">
                </div>
                <div class="filter-group">
                    <label for="category">Categoría</label>
                    <select id="category">
                        <option value="all">Todas las categorías</option>
                        <option value="cascos">Cascos</option>
                        <option value="accesorios">Accesorios</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="brand">Marca</label>
                    <select id="brand">
                        <option value="all">Todas las marcas</option>
                        <option value="fox">Fox</option>
                        <option value="bell">Bell</option>
                        <option value="fly">Fly Racing</option>
                        <option value="alpinestars">Alpinestars</option>
                        <option value="aircraft">Aircraft</option>
                        <option value="troylee">Troy Lee Design</option>
                    </select>
                </div>
            </div>
            <div class="filter-row">
                <div class="filter-group">
                    <label for="stock-filter">Filtrar por Stock</label>
                    <select id="stock-filter">
                        <option value="all">Todos</option>
                        <option value="low">Stock Bajo (≤ 5)</option>
                        <option value="medium">Stock Medio (6-15)</option>
                        <option value="high">Stock Alto (> 15)</option>
                        <option value="out">Sin Stock</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="price-range">Rango de Precios</label>
                    <input type="range" id="price-range" min="0" max="1000000" step="50000">
                    <output id="price-output">Todos los precios</output>
                </div>
                <div class="filter-group">
                    <button class="btn btn-primary" id="apply-filters">Aplicar Filtros</button>
                    <button class="btn" id="reset-filters">Restablecer</button>
                </div>
            </div>
        </div>

        <table class="products-table">
            <thead>
                <tr>
                    <th>Imagen</th>
                    <th>Nombre del Producto</th>
                    <th>Marca</th>
                    <th>Precio</th>
                    <th>Categoría</th>
                    <th>Talles Disponibles</th>
                    <th>Stock</th>
                    <th>Estado</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody id="products-body">
                <!-- Los productos se cargarán aquí dinámicamente -->
            </tbody>
        </table>

        <div class="pagination" id="pagination">
            <!-- La paginación se generará aquí -->
        </div>
    </div>

    <!-- Modal para agregar nuevo producto -->
    <div id="add-product-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Agregar Nuevo Producto</h2>
            <form id="new-product-form">
                <div class="form-group">
                    <label for="new-name">Nombre del Producto</label>
                    <input type="text" id="new-name" required>
                </div>
                <div class="form-group">
                    <label for="new-brand">Marca</label>
                    <select id="new-brand" required>
                        <option value="">Seleccione una marca</option>
                        <option value="fox">Fox</option>
                        <option value="bell">Bell</option>
                        <option value="fly">Fly Racing</option>
                        <option value="alpinestars">Alpinestars</option>
                        <option value="aircraft">Aircraft</option>
                        <option value="troylee">Troy Lee Design</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="new-price">Precio</label>
                    <input type="number" id="new-price" min="0" required>
                </div>
                <div class="form-group">
                    <label for="new-category">Categoría</label>
                    <select id="new-category" required>
                        <option value="">Seleccione una categoría</option>
                        <option value="Cascos">Cascos</option>
                        <option value="Accesorios">Accesorios</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="new-sizes">Talles Disponibles (separados por comas)</label>
                    <input type="text" id="new-sizes" placeholder="S, M, L, XL">
                </div>
                <div class="form-group">
                    <label for="new-stock">Cantidad en Stock</label>
                    <input type="number" id="new-stock" min="0" value="0" required>
                </div>
                <div class="form-group">
                    <label for="new-image">URL de la Imagen</label>
                    <input type="text" id="new-image" placeholder="ruta/a/la/imagen.png">
                </div>
                <div class="form-group">
                    <label for="new-status">Estado</label>
                    <select id="new-status" required>
                        <option value="Activo">Activo</option>
                        <option value="Inactivo">Inactivo</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-success">Crear Producto</button>
            </form>
        </div>
    </div>

    <div class="notification" id="notification"></div>

    <script src="js/admin.js"></script>
</body>
</html>